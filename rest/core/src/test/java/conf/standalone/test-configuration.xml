<?xml version="1.0" encoding="ISO-8859-1"?>
<configuration>
  <component>
    <key>org.exoplatform.services.log.LogConfigurationInitializer</key>
    <type>org.exoplatform.services.log.LogConfigurationInitializer</type>
    <init-params>
      <value-param>
        <name>logger</name>
        <value>org.exoplatform.services.log.impl.BufferedLog4JLogger</value>
      </value-param>
      <value-param>
        <name>configurator</name>
        <value>org.exoplatform.services.log.impl.Log4JConfigurator</value>
      </value-param>
      <properties-param>
        <name>properties</name>
        <description>Log4J properties</description>
        <property name="log4j.rootLogger" value="DEBUG, stdout"/>

        <property name="log4j.appender.stdout" value="org.apache.log4j.ConsoleAppender"/>
        <property name="log4j.appender.stdout.threshold" value="INFO"/>

        <property name="log4j.appender.stdout.layout" value="org.apache.log4j.PatternLayout"/>
        <property name="log4j.appender.stdout.layout.ConversionPattern"
        value="%d{dd.MM.yyyy HH:mm:ss} *%-5p* [%t] %c{1}: %m (%F, line %L) %n"/>
      </properties-param>
    </init-params>
  </component>
  <component>
    <type>org.exoplatform.services.rest.transformer.EntityTransformerFactory</type>
    <multi-instance>true</multi-instance>
  </component>
  <component>
    <type>org.exoplatform.services.rest.ResourceDispatcher</type>
    <init-params>
		<properties-param>
			<name>contex-params</name>
			<property name="test" value="test11"/>
		</properties-param>
    </init-params>
  </component>
  <component>
  	<type>org.exoplatform.services.rest.ResourceBinder</type>
    <init-params>
    	<value-param>
    		<name>ws1</name>
    		<value>org.exoplatform.services.rest.container.HTTPAnnotatedContainerResolvingStrategy</value>
    	</value-param>
    </init-params>
 	</component>
  <!-- for XSLT transformation -->
	<component>
		<type>org.exoplatform.services.xml.resolving.impl.XMLResolvingServiceImpl</type>
	</component>
	<component>
		<type>org.exoplatform.services.xml.transform.impl.html.TidyTransformerServiceImpl</type>
	</component>
	<component>
		<type>org.exoplatform.services.xml.transform.impl.trax.TRAXTransformerServiceImpl</type>
	</component>
	<component>
		<type>org.exoplatform.services.xml.transform.impl.trax.TRAXTemplatesServiceImpl</type>
	</component>
	<component>
		<type>org.exoplatform.services.xml.transform.impl.EncodingMapImpl</type>
	</component>
	<!-- add XSLT template in TRAXTemplatesServiceImpl -->
	<external-component-plugins>
	  <target-component>org.exoplatform.services.xml.transform.impl.trax.TRAXTemplatesServiceImpl</target-component>
	  <component-plugin>
	    <name>add.xslschema</name>
	    <set-method>addPlugin</set-method>
	    <type>org.exoplatform.services.xml.transform.impl.trax.TRAXTemplatesLoaderPlugin</type>
	    <init-params>
		  <properties-param>
		    <name>xsl-source-urls</name>
		    <property name="book" value="xslt/book.xsl"/>
        <property name="test" value="xslt/test.xsl"/>
		  </properties-param>
		</init-params>
	  </component-plugin>
	</external-component-plugins>
</configuration>
